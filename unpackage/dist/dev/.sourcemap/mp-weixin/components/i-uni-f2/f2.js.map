{"version":3,"sources":["webpack:///D:/APP/lianhexiustore/components/i-uni-f2/f2.vue?ac0e","webpack:///D:/APP/lianhexiustore/components/i-uni-f2/f2.vue?4e71","webpack:///D:/APP/lianhexiustore/components/i-uni-f2/f2.vue?560d","webpack:///D:/APP/lianhexiustore/components/i-uni-f2/f2.vue?c5e9","webpack:///D:/APP/lianhexiustore/components/i-uni-f2/f2.vue","webpack:///D:/APP/lianhexiustore/components/i-uni-f2/f2.vue?3555","webpack:///D:/APP/lianhexiustore/components/i-uni-f2/f2.vue?2b82"],"names":["f2Id","wrapEvent","e","preventDefault","props","init","Function","data","id","created","mounted","query","uni","createSelectorQuery","in","select","fields","node","size","exec","res","width","height","context","getContext","pixelRatio","getSystemInfoSync","$nextTick","console","log","chart","$props","F2","canvasEl","get","methods","touchStart","dispatchEvent","touchMove","touchEnd"],"mappings":"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","file":"components/i-uni-f2/f2.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./f2.vue?vue&type=template&id=ff7fded8&scoped=true&\"\nvar renderjs\nimport script from \"./f2.vue?vue&type=script&lang=js&\"\nexport * from \"./f2.vue?vue&type=script&lang=js&\"\nimport style0 from \"./f2.vue?vue&type=style&index=0&id=ff7fded8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ff7fded8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"APP/lianhexiustore/components/i-uni-f2/f2.vue\"\nexport default component.exports","export * from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./f2.vue?vue&type=template&id=ff7fded8&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./f2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./f2.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n\r\n/* 做好事不留名\r\n * bug修复\r\n * 2020/08/27\r\n *  */\t\r\n\t\r\nimport F2 from '@/js_sdk/i-uni-f2/f2.min.js'\r\n// TODO: 因为官方只对微信和支付宝做了兼容处理，如果是其他小程序，使用微信小程序方案\r\n\r\nimport { wx as F2Context } from '@/js_sdk/i-uni-f2/f2-context.min.js'\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet f2Id = 0\r\n\r\nfunction wrapEvent(e) {\r\n  if (!e) return\r\n  if (!e.preventDefault) {\r\n    e.preventDefault = function() {}\r\n  }\r\n  return e\r\n}\r\n\r\n\r\nexport default {\r\n  props: {\r\n    init: Function\r\n  },\r\n  data() {\r\n    return {\r\n      id: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.id = 'f2-canvas-' + ++f2Id\r\n  },\r\n  mounted() {\r\n    // const myCtx = uni.createCanvasContext(this.id);\r\n    // const context = F2Context(myCtx)\r\n    const query = uni.createSelectorQuery().in(this);\r\n    query\r\n      .select('#' + this.id)\r\n      .fields({\r\n              node: true,\r\n              size: true\r\n      })\r\n      .exec(res => {\r\n        // 获取画布实际宽高\r\n        const {node, width, height } = res[0]\r\n\t\tconst context = node.getContext('2d');\r\n        const pixelRatio = uni.getSystemInfoSync().pixelRatio\r\n        node.width = width * pixelRatio;\r\n        node.height = height * pixelRatio;\r\n        this.$nextTick(() => {\r\n\t\t\tconsole.log(4);\r\n          const chart = this.$props.init(F2, { context, width, height, pixelRatio })\r\n          if (chart) {\r\n            this.chart = chart\r\n            this.canvasEl = chart.get('el')\r\n          }\r\n        })\r\n      })\r\n  },\r\n  methods: {\r\n    touchStart(e) {\r\n      const canvasEl = this.canvasEl\r\n      if (!canvasEl) {\r\n        return\r\n      }\r\n      canvasEl.dispatchEvent('touchstart', wrapEvent(e))\r\n    },\r\n    touchMove(e) {\r\n      const canvasEl = this.canvasEl\r\n      if (!canvasEl) {\r\n        return\r\n      }\r\n      canvasEl.dispatchEvent('touchmove', wrapEvent(e))\r\n    },\r\n    touchEnd(e) {\r\n      const canvasEl = this.canvasEl\r\n      if (!canvasEl) {\r\n        return\r\n      }\r\n      canvasEl.dispatchEvent('touchend', wrapEvent(e))\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./f2.vue?vue&type=style&index=0&id=ff7fded8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./f2.vue?vue&type=style&index=0&id=ff7fded8&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1622007875881\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}